/* --- path: app/globals.css --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Light & dark tokens on <html> via next-themes */
:root {
  --bg: 254 253 250;  /* very slightly warm white */
  --fg: 20 24 38;     /* tiny shift for improved contrast */
  --card: 255 254 250; /* near-white card */
  --card-border: 232 233 236; /* neutral-200 (subtle adjust) */
}

.dark {
  --bg: 12 12 12;       /* tiny brighten in dark base */
  --fg: 245 245 246;    /* slightly lighter text in dark */
  --card: 25 25 25;     /* neutral-900 (very small shift) */
  --card-border: 40 40 40; /* neutral-800 (subtle adjust) */
}

/* Surface tokens for consistent light/dark styling */
:root {
  --surface-bg: rgba(255,254,250,0.92); /* slightly more opaque warm surface */
  --surface-border: rgba(232,233,236,1);
  --surface-shadow: 0 4px 12px rgba(0,0,0,0.085);
  --chip-bg: #f3efe8; /* subtle warm tint */
  --chip-hover: #efe9df;
  --chip-text: #1f2937;
}
.dark {
  --surface-bg: rgba(30,32,36,0.9);
  --surface-border: rgba(50,52,57,0.9);
  --surface-shadow: 0 4px 12px rgba(0,0,0,0.245);
  --chip-bg: #27292e;
  --chip-hover: #303337;
  --chip-text: #e7e8e9;
}

html, body {
  background-color: rgb(var(--bg));
  color: rgb(var(--fg));
}

/* Handy utility classes for your cards/sections */
.card {
  @apply rounded-2xl border p-6 backdrop-blur-md;
  background-color: var(--surface-bg);
  border-color: var(--surface-border);
  box-shadow: var(--surface-shadow);
}
/* ==== DARK-MODE RESCUE SHIM (quick global fix) ==== */
@layer base {
  /* Any panel still using bg-white becomes a dark surface */
  .dark .bg-white { background-color: rgb(23 23 23) !important; }        /* neutral-900 */
  .dark .border-neutral-200, 
  .dark .border-gray-200 { border-color: rgb(38 38 38) !important; }     /* neutral-800 */

  /* Text utilities that force black become light in dark mode */
  .dark .text-black { color: rgb(243 244 246) !important; }              /* slate-100 */
  .dark .text-gray-700, .dark .text-neutral-700 { color: rgb(229 231 235) !important; }
  .dark .text-gray-500, .dark .text-neutral-500 { color: rgb(212 212 212) !important; }

  /* Inputs / selects / textareas */
  .dark input, 
  .dark select, 
  .dark textarea {
    background-color: rgb(38 38 38) !important;   /* neutral-800 */
    color: rgb(243 244 246) !important;
    border-color: rgb(64 64 64) !important;       /* neutral-700 */
  }
  .dark input:disabled, .dark select:disabled, .dark textarea:disabled {
    background-color: rgb(64 64 64) !important;   /* neutral-700 */
    color: rgb(212 212 212) !important;
  }
  .dark ::placeholder { color: rgb(163 163 163) !important; }

  /* Details/summary accordions (your Filters sections) */
  .dark details > summary { color: rgb(229 231 235) !important; }

  /* Buttons that inherit text color will stay readable */
  .dark button { color: inherit; }
}
/* ==== DARK MODE VISIBILITY FIXES ==== */
@layer base {
  /* Any surfaces left as white now become dark surfaces */
  .dark .bg-white { background-color: rgb(23 23 23) !important; }
  .dark .border-neutral-200, .dark .border-gray-200 { border-color: rgb(38 38 38) !important; }

  /* Selected pills that used bg-black become orange in dark to keep contrast */
  .dark .bg-black { background-color: rgb(249 115 22) !important; }           /* orange-500 */
  .dark .hover\:bg-black:hover { background-color: rgb(234 88 12) !important; } /* orange-600 */
  .dark .border-black { border-color: rgb(251 146 60) !important; }           /* orange-400 */

  /* Generic chip/badge readability */
  .dark .text-gray-700, .dark .text-neutral-700 { color: rgb(229 231 235) !important; }
  .dark .text-gray-500, .dark .text-neutral-500 { color: rgb(212 212 212) !important; }

  /* Inputs */
  .dark input, .dark select, .dark textarea {
    background-color: rgb(38 38 38) !important;  /* neutral-800 */
    color: rgb(243 244 246) !important;
    border-color: rgb(64 64 64) !important;
  }
  .dark ::placeholder { color: rgb(163 163 163) !important; }
}
@layer components {
  .pill {
    @apply rounded-full border px-3 py-1 text-sm transition;
  }
  .pill[data-selected="true"] {
    @apply bg-black text-white dark:bg-orange-500 dark:text-black dark:border-orange-400;
  }
}
/* ==== DARK MODE BUTTON VISIBILITY ==== */
@layer base {
  /* generic buttons */
  /* unified surface/button/chip classes (light + dark via css variables) */
  .surface {
    border-radius: 1rem; /* rounded-2xl */
    background: var(--surface-bg);
    border: 1px solid var(--surface-border);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    box-shadow: var(--surface-shadow);
  }

  .site-header {
    background: var(--surface-bg);
    border-bottom: 1px solid var(--surface-border);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    box-shadow: var(--surface-shadow);
  }

  .chip, .btn-chip {
    background: var(--chip-bg);
    color: var(--chip-text);
    border: 1px solid var(--surface-border);
    box-shadow: 0 1px 2px rgba(0,0,0,0.04);
    transition: background 0.15s ease, transform 0.08s ease;
    border-radius: 9999px; /* rounded-full */
  }
  .chip:hover, .btn-chip:hover { background: var(--chip-hover); }

  /* disabled state should still be legible */
  .dark button:disabled {
    background-color: rgb(64 64 64) !important;  /* neutral-700 */
    color: rgb(212 212 212) !important;          /* neutral-300 */
    opacity: 1 !important;                       /* override low-opacity libs */
    cursor: not-allowed;
  }

  /* if the button uses utility colors, keep them readable */
  .dark .bg-gray-100 { background-color: rgb(64 64 64) !important; }
  .dark .text-gray-400 { color: rgb(212 212 212) !important; }
  .dark .ring-gray-200 { --tw-ring-color: rgb(64 64 64) !important; }
}

/* Provide sensible defaults for existing bg-white/90 usages */
.bg-white\/90 { background-color: var(--surface-bg) !important; }
.bg-white { background-color: var(--surface-bg) !important; }


